# 카카오맵 API 연동 설정 가이드

## 1. 카카오 개발자 계정 생성 및 앱 등록

### 1.1 카카오 개발자 계정 생성
1. [카카오 개발자 사이트](https://developers.kakao.com/) 접속
2. 카카오 계정으로 로그인
3. "내 애플리케이션" 메뉴 클릭

### 1.2 애플리케이션 등록
1. "애플리케이션 추가하기" 버튼 클릭
2. 앱 이름: "헬스장 찾기" (또는 원하는 이름)
3. 사업자명: 개인 또는 회사명
4. "저장" 버튼 클릭

## 2. API 키 발급

### 2.1 JavaScript 키 (카카오맵 SDK용)
1. 생성된 앱 선택
2. "앱 설정" > "앱 키" 메뉴
3. "JavaScript 키" 복사
4. 이 키를 `NEXT_PUBLIC_KAKAKO_MAP_API_KEY`로 사용

### 2.2 REST API 키 (장소 검색용)
1. "앱 설정" > "앱 키" 메뉴
2. "REST API 키" 복사
3. 이 키를 `NEXT_PUBLIC_KAKAO_REST_API_KEY`로 사용

## 3. 플랫폼 설정

### 3.1 Web 플랫폼 추가
1. "플랫폼" 메뉴 클릭
2. "Web 플랫폼 등록" 클릭
3. 사이트 도메인 입력:
   - 개발용: `http://localhost:3000`
   - 운영용: 실제 도메인 (예: `https://yourdomain.com`)

### 3.2 동의항목 설정
1. "제품 설정" > "카카오 로그인" 메뉴
2. "동의항목" 탭 클릭
3. 필요한 동의항목 활성화 (선택사항)

## 4. 환경 변수 설정

### 4.1 .env.local 파일 생성
프로젝트 루트에 `.env.local` 파일을 생성하고 다음 내용을 추가:

```env
# 카카오맵 API 키
NEXT_PUBLIC_KAKAO_MAP_API_KEY=your_javascript_key_here
NEXT_PUBLIC_KAKAO_REST_API_KEY=your_rest_api_key_here

# Supabase 설정 (기존 설정 유지)
NEXT_PUBLIC_SUPABASE_URL=your_supabase_url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key
```

### 4.2 API 키 교체
- `your_javascript_key_here`를 실제 JavaScript 키로 교체
- `your_rest_api_key_here`를 실제 REST API 키로 교체

## 5. 사용 가능한 API 기능

### 5.1 장소 검색
- 헬스장 검색 (카테고리: CT1)
- 지역별 검색
- 반경 내 검색
- 키워드 검색

### 5.2 지도 표시
- 카카오맵 렌더링
- 마커 표시
- 인포윈도우
- 지도 컨트롤

### 5.3 위치 서비스
- 현재 위치 가져오기
- 좌표-주소 변환
- 거리 계산

## 6. API 사용량 및 제한

### 6.1 무료 할당량
- 장소 검색: 월 10,000회
- 지도 로드: 월 300,000회
- 좌표 변환: 월 10,000회

### 6.2 유료 서비스
- 할당량 초과 시 유료 서비스 이용 가능
- 가격: [카카오 개발자 사이트](https://developers.kakao.com/pricing) 참조

## 7. 보안 주의사항

### 7.1 API 키 보안
- `.env.local` 파일은 절대 Git에 커밋하지 마세요
- `.gitignore`에 `.env.local`이 포함되어 있는지 확인
- 운영 환경에서는 환경 변수로 관리

### 7.2 도메인 제한
- Web 플랫폼에 등록된 도메인에서만 API 사용 가능
- 개발/운영 환경별로 도메인 등록 필요

## 8. 테스트 방법

### 8.1 개발 서버 실행
```bash
npm run dev
```

### 8.2 기능 테스트
1. 메인 페이지에서 "지도 보기" 버튼 클릭
2. 헬스장 검색 기능 테스트
3. 지도 마커 클릭 테스트
4. 리뷰 작성 시 헬스장 선택 테스트

## 9. 문제 해결

### 9.1 API 키 오류
- API 키가 올바르게 설정되었는지 확인
- 도메인이 등록되었는지 확인
- 브라우저 개발자 도구에서 네트워크 오류 확인

### 9.2 지도 로드 오류
- JavaScript 키가 올바른지 확인
- 네트워크 연결 상태 확인
- 브라우저 콘솔에서 오류 메시지 확인

### 9.3 검색 결과 없음
- REST API 키가 올바른지 확인
- 검색어가 적절한지 확인
- API 할당량이 남아있는지 확인

## 10. 추가 기능 구현 가능

### 10.1 고급 검색
- 가격대별 필터링
- 시설별 필터링
- 리뷰 점수별 정렬

### 10.2 지도 기능
- 경로 안내
- 실시간 교통 정보
- 주변 편의시설 표시

### 10.3 사용자 경험
- 즐겨찾기 기능
- 최근 검색 기록
- 개인화 추천
